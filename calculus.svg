<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="100%" height="100%">
  <defs>

    <filter id="textbookShadowBlur" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="12" />
    </filter>
    <style>

      svg {
        background: radial-gradient(circle at center, #ffffff 0%, #fef6e0 100%);
        /* Ensure it covers the full viewport without being constrained by viewBox layout */
        width: 100vw;
        height: 100vh;
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
    
      /* --- MATHEMATICAL ANIMATION SEQUENCES (5-Second Loop) --- */
      /* 1. Discrete Approximation (Riemann Sums) */
      .riemann-sums  {
        transform-origin: bottom;
      }
      @keyframes calcSum {
        0%, 15% { opacity: 0; transform: scaleY(0); }
        20%, 47% { opacity: 1; transform: scaleY(1); } /* Rectangles appear */
        48%, 100% { opacity: 0; transform: scaleY(1); } /* They vanish at the limit */
      }
      /* Delta x bracket indicator */
      .delta-x  {
      }
      @keyframes showDelta {
        0%, 19% { opacity: 0; }
        20%, 47% { opacity: 1; }
        48%, 100% { opacity: 0; }
      }
      /* The Sigma Symbol (Σ) */
      .math-sigma  {
      }
      @keyframes pulseSigma {
        0%, 15% { opacity: 0; transform: translateY(10px); }
        20%, 45% { opacity: 1; transform: translateY(0px); filter: brightness(1.2); }
        48%, 100% { opacity: 0; transform: scale(1.5); } /* Explodes into the integral */
      }
      /* 2. The Limit Flash (Exactly at 48%) */
      .limit-flash  {
        transform-origin: 100px 100px;
      }
      @keyframes flashLimit {
        0%, 47% { opacity: 0; transform: scale(0.5); }
        48% { opacity: 1; transform: scale(1.5); filter: brightness(1.5); } /* BAM! */
        52%, 100% { opacity: 0; transform: scale(2.5); }
      }
      /* 3. The Continuous Integral Area */
      .integral-area  {
        transform-origin: bottom;
      }
      @keyframes smoothArea {
        0%, 47% { opacity: 0; transform: scaleY(0.9); }
        48% { opacity: 1; transform: scaleY(1); } /* Perfectly fills the curve */
        55%, 85% { opacity: 0.8; transform: scaleY(1); filter: brightness(1.2); }
        90%, 100% { opacity: 0; transform: scaleY(1); }
      }
      /* The Integral Symbol (∫) */
      .math-integral  {
        transform-origin: center;
      }
      @keyframes emergeIntegral {
        0%, 47% { opacity: 0; transform: scale(0.5) translateY(20px); }
        48% { opacity: 1; transform: scale(1) translateY(0px); } /* Bursts forth */
        55%, 85% { opacity: 1; transform: scale(1) translateY(0px); filter: brightness(1.2); }
        90%, 100% { opacity: 0; transform: scale(1.2) translateY(-10px); }
      }
      /* Floating Holographic Base */
      .hologram-base  {
      }
      @keyframes floatBase {
        0% { transform: translateY(0px); }
        100% { transform: translateY(3px); }
      }
      svg:hover .riemann-sums {
        animation: calcSum 5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      }

      svg:hover .delta-x {
        animation: showDelta 5s steps(1) forwards;
      }

      svg:hover .math-sigma {
        animation: pulseSigma 5s ease-in-out forwards;
      }

      svg:hover .limit-flash {
        animation: flashLimit 5s steps(1) forwards;
      }

      svg:hover .integral-area {
        animation: smoothArea 5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      }

      svg:hover .math-integral {
        animation: emergeIntegral 5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      }

      svg:hover .hologram-base {
        animation: floatBase 5s ease-in-out forwards alternate;
      }

      </style>
    /* Function Curve */
    <linearGradient id="curveGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#0ba360"/>
      <stop offset="100%" stop-color="#00f2fe"/>
    </linearGradient>
    /* Riemann Rectangles (Processing) */
    <linearGradient id="riemannGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#ffc07c" stop-opacity="0.8"/>
      <stop offset="100%" stop-color="#da8d41" stop-opacity="0.4"/>
    </linearGradient>
    /* Smooth Integral Area (Output) */
    <linearGradient id="areaGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#ffb199" stop-opacity="0.8"/>
      <stop offset="100%" stop-color="#e0c3fc" stop-opacity="0.3"/>
    </linearGradient>
    /* Isometric Base Platform */
    <linearGradient id="baseTop" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f8f9fa"/>
      <stop offset="100%" stop-color="#e2e8f0"/>
    </linearGradient>
    <filter id="softShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="4"/>
      <feOffset dx="0" dy="10" result="offsetblur"/>
      <feComponentTransfer><feFuncA type="linear" slope="0.15"/></feComponentTransfer>
      <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glowEffect">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  
  <g class="hologram-base">
    <g transform="translate(100, 160) scale(1, 0.5) rotate(45)" filter="url(#softShadow)">
      <rect x="-70" y="-70" width="140" height="140" fill="url(#baseTop)" rx="8" />
      <circle cx="-50" cy="-50" r="4" fill="#3cba92" opacity="0.6"/>
      <circle cx="50" cy="-50" r="4" fill="#3cba92" opacity="0.6"/>
      <circle cx="-50" cy="50" r="4" fill="#3cba92" opacity="0.6"/>
      <circle cx="50" cy="50" r="4" fill="#3cba92" opacity="0.6"/>
    </g>
    <g transform="translate(0, -10)">
      <g stroke="#cbd5e1" stroke-width="0.5" opacity="0.5">
        <line x1="40" y1="60" x2="160" y2="60" />
        <line x1="40" y1="80" x2="160" y2="80" />
        <line x1="40" y1="100" x2="160" y2="100" />
        <line x1="40" y1="120" x2="160" y2="120" />
        <line x1="60" y1="50" x2="60" y2="140" />
        <line x1="80" y1="50" x2="80" y2="140" />
        <line x1="100" y1="50" x2="100" y2="140" />
        <line x1="120" y1="50" x2="120" y2="140" />
        <line x1="140" y1="50" x2="140" y2="140" />
      </g>
      <g stroke="#64748b" stroke-width="1.5" stroke-linecap="square">
        <line x1="40" y1="140" x2="40" y2="45" />
        <polygon points="40,40 37,47 43,47" fill="#64748b" stroke="none" />
        <text x="30" y="50" font-family="Georgia, serif" font-style="italic" font-size="8" fill="#64748b">y</text>
        <line x1="40" y1="140" x2="165" y2="140" />
        <polygon points="170,140 163,137 163,143" fill="#64748b" stroke="none" />
        <text x="165" y="152" font-family="Georgia, serif" font-style="italic" font-size="8" fill="#64748b">x</text>
      </g>
      <path d="M 40 140 C 80 140, 100 70, 160 50 L 160 140 Z" fill="url(#areaGrad)" class="integral-area" />
      <g class="riemann-sums">
        <rect x="41" y="132" width="18" height="8" fill="url(#riemannGrad)" stroke="#f6a565" stroke-width="0.5" />
        <rect x="61" y="115" width="18" height="25" fill="url(#riemannGrad)" stroke="#f6a565" stroke-width="0.5" />
        <rect x="81" y="93" width="18" height="47" fill="url(#riemannGrad)" stroke="#f6a565" stroke-width="0.5" />
        <rect x="101" y="73" width="18" height="67" fill="url(#riemannGrad)" stroke="#f6a565" stroke-width="0.5" />
        <rect x="121" y="60" width="18" height="80" fill="url(#riemannGrad)" stroke="#f6a565" stroke-width="0.5" />
        <rect x="141" y="52" width="18" height="88" fill="url(#riemannGrad)" stroke="#f6a565" stroke-width="0.5" />
        <g class="delta-x" stroke="#da8d41" stroke-width="1" fill="none">
          <path d="M 101 142 L 101 145 L 119 145 L 119 142" />
          <text x="110" y="153" font-family="sans-serif" font-size="6" font-weight="bold" fill="#da8d41" stroke="none" text-anchor="middle">Δx</text>
        </g>
      </g>
      <path d="M 40 140 C 80 140, 100 70, 160 50" fill="none" stroke="url(#curveGrad)" stroke-width="3" stroke-linecap="round" filter="url(#glowEffect)" />
      <text x="165" y="45" font-family="Georgia, serif" font-style="italic" font-size="10" font-weight="bold" fill="#00f2fe">f(x)</text>
    </g>
    <g class="limit-flash" filter="url(#glowEffect)">
      <circle cx="100" cy="90" r="30" fill="none" stroke="#ffb199" stroke-width="3" opacity="0.6"/>
      <circle cx="100" cy="90" r="15" fill="#ffffff" opacity="0.8"/>
      <g stroke="#0ba360" stroke-width="2" stroke-linecap="round">
        <line x1="100" y1="50" x2="100" y2="35" />
        <line x1="100" y1="130" x2="100" y2="145" />
        <line x1="60" y1="90" x2="45" y2="90" />
        <line x1="140" y1="90" x2="155" y2="90" />
      </g>
    </g>
    <g class="math-sigma" transform="translate(60, 60)" filter="url(#glowEffect)">
      <text x="0" y="0" font-family="Georgia, serif" font-size="28" font-weight="bold" fill="#f6a565">∑</text>
    </g>
    <g class="math-integral" transform="translate(65, 80)" filter="url(#glowEffect)">
      <text x="0" y="0" font-family="Georgia, serif" font-size="42" font-style="italic" fill="#7579ff">∫</text>
      <text x="18" y="-5" font-family="Georgia, serif" font-style="italic" font-size="12" font-weight="bold" fill="#7579ff">dx</text>
    </g>
  </g>
</svg>
