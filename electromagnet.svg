<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="100%" height="100%">
  <defs>

    <filter id="textbookShadowBlur" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="12" />
    </filter>
    <style>

      svg {
        background: radial-gradient(circle at center, #ffffff 0%, #ecfcfc 100%);
        /* Ensure it covers the full viewport without being constrained by viewBox layout */
        width: 100vw;
        height: 100vh;
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
    
      /* --- ANIMATION SEQUENCES --- */
      /* 1. The Falling Magnet (Input) */
      .magnet-assembly  {
        transform-origin: 60px 100px;
      }
      @keyframes dropMagnet {
        0%, 15% { transform: translateY(-80px); opacity: 0; }
        20% { transform: translateY(-70px); opacity: 1; }
        48% { transform: translateY(0px); opacity: 1; } /* Exact center of coil */
        65% { transform: translateY(60px); opacity: 1; }
        75%, 100% { transform: translateY(80px); opacity: 0; }
      }
      /* 2. Magnetic Field Pulse (Processing/Impact) */
      .magnetic-pulse  {
        transform-origin: 60px 100px;
        opacity: 0;
      }
      @keyframes fieldPulse {
        0%, 47% { transform: scale(0.5) rotate(0deg); opacity: 0; }
        48% { transform: scale(1); rotate(45deg); opacity: 0.8; } /* Flux change peaks */
        65% { transform: scale(2.5) rotate(90deg); opacity: 0; }
        100% { opacity: 0; }
      }
      /* 3. Traveling Current Spark */
      .current-spark  {
        opacity: 0;
      }
      @keyframes sparkTravel {
        0%, 47% { opacity: 0; stroke-dashoffset: 100; }
        48% { opacity: 1; stroke-dashoffset: 100; }
        55% { opacity: 1; stroke-dashoffset: 0; } /* Reaches the bulb */
        58%, 100% { opacity: 0; stroke-dashoffset: 0; }
      }
      /* 4. Lightbulb Glow (Output) */
      .bulb-glow  {
        transform-origin: 140px 85px;
      }
      @keyframes bulbFlash {
        0%, 47% { opacity: 0.1; filter: brightness(1); transform: scale(1); }
        48% { opacity: 0; filter: brightness(1); transform: scale(1); } /* Slight delay for travel */
        54% { opacity: 0; }
        55% { opacity: 1; filter: brightness(1.5); transform: scale(1.15); } /* BAM! Light */
        70% { opacity: 0.8; filter: brightness(1.2); transform: scale(1.05); }
        85%, 100% { opacity: 0.1; filter: brightness(1); transform: scale(1); }
      }
      /* 5. Isometric Floor Floating */
      .base-grid  {
        transform-origin: 100px 140px;
      }
      @keyframes floatBase {
        0% { transform: translateY(0px); }
        100% { transform: translateY(4px); }
      }
      svg:hover .magnet-assembly {
        animation: dropMagnet 4s cubic-bezier(0.55, 0.085, 0.68, 0.53) forwards;
      }

      svg:hover .magnetic-pulse {
        animation: fieldPulse 4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      }

      svg:hover .current-spark {
        animation: sparkTravel 4s linear forwards;
      }

      svg:hover .bulb-glow {
        animation: bulbFlash 4s ease-out forwards;
      }

      svg:hover .base-grid {
        animation: floatBase 4s ease-in-out forwards alternate;
      }

      </style>
    <linearGradient id="floorSurface" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f8f9fa"/>
      <stop offset="100%" stop-color="#e9ecef"/>
    </linearGradient>
    <linearGradient id="magNorth" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#ff6b81"/>
      <stop offset="100%" stop-color="#ff6b81"/>
    </linearGradient>
    <linearGradient id="magSouth" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#1e90ff"/>
      <stop offset="100%" stop-color="#70a1ff"/>
    </linearGradient>
    <linearGradient id="copperWire" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#da8d41"/>
      <stop offset="50%" stop-color="#f6a565"/>
      <stop offset="100%" stop-color="#c29a26"/>
    </linearGradient>
    <linearGradient id="bulbGlass" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#e0f7fa" stop-opacity="0.6"/>
      <stop offset="100%" stop-color="#3cba92" stop-opacity="0.2"/>
    </linearGradient>
    <radialGradient id="glowYellow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#fff200" stop-opacity="1"/>
      <stop offset="50%" stop-color="#feca57" stop-opacity="0.8"/>
      <stop offset="100%" stop-color="#ff9f43" stop-opacity="0"/>
    </radialGradient>
    <filter id="softShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="5"/>
      <feOffset dx="0" dy="8" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.15"/>
      </feComponentTransfer>
      <feColorMatrix type="matrix" values="0 0 0 0 0.1   0 0 0 0 0.3   0 0 0 0 0.8   0 0 0 1 0" />
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  
  <g class="base-grid">
    <polygon points="20,130 100,160 180,130 100,100" fill="url(#floorSurface)" filter="url(#softShadow)"/>
    <polygon points="20,130 100,160 100,168 20,138" fill="#dee2e6"/>
    <polygon points="180,130 100,160 100,168 180,138" fill="#ced4da"/>
    <path d="M 60 135 L 140 135" fill="none" stroke="#a4b0be" stroke-width="3" stroke-linecap="round"/>
    <path d="M 60 135 L 140 135" fill="none" stroke="#0ba360" stroke-width="3" stroke-linecap="round" stroke-dasharray="100" class="current-spark"/>
  </g>
  <g transform="translate(0, 0)" filter="url(#softShadow)">
    <path d="M 130 115 L 150 115 L 146 130 L 134 130 Z" fill="#e0e0e0"/>
    <path d="M 132 120 L 148 120 M 133 125 L 147 125" stroke="#b0bec5" stroke-width="1.5"/>
    <path d="M 136 115 L 136 95 M 144 115 L 144 95 M 136 95 L 144 95" fill="none" stroke="#ffc07c" stroke-width="1.5" stroke-linejoin="round"/>
    <circle cx="140" cy="85" r="20" fill="url(#bulbGlass)" stroke="#3cba92" stroke-width="1.5"/>
    <path d="M 125 98 C 120 105, 130 115, 130 115 L 150 115 C 150 115, 160 105, 155 98" fill="url(#bulbGlass)"/>
    <circle cx="140" cy="85" r="35" fill="url(#glowYellow)" class="bulb-glow"/>
  </g>
  <g fill="none" stroke="url(#copperWire)" stroke-width="5" stroke-linecap="round" opacity="0.8">
    <path d="M 45 90 C 45 75, 75 75, 75 90"/>
    <path d="M 45 100 C 45 85, 75 85, 75 100"/>
    <path d="M 45 110 C 45 95, 75 95, 75 110"/>
    <path d="M 45 120 C 45 105, 75 105, 75 120"/>
  </g>
  <g class="magnet-assembly" filter="url(#softShadow)">
    <path d="M 50 65 L 70 65 L 70 85 L 50 85 Z" fill="url(#magSouth)"/>
    <text x="60" y="80" fill="#ffffff" font-family="sans-serif" font-size="10" font-weight="bold" text-anchor="middle">S</text>
    <path d="M 50 85 L 70 85 L 70 105 L 50 105 Z" fill="url(#magNorth)"/>
    <text x="60" y="100" fill="#ffffff" font-family="sans-serif" font-size="10" font-weight="bold" text-anchor="middle">N</text>
  </g>
  <g fill="none" stroke="url(#copperWire)" stroke-width="6" stroke-linecap="round" filter="url(#softShadow)">
    <path d="M 75 90 C 75 105, 45 105, 45 100"/>
    <path d="M 75 100 C 75 115, 45 115, 45 110"/>
    <path d="M 75 110 C 75 125, 45 125, 45 120"/>
    <path d="M 75 120 C 75 135, 45 135, 60 135"/> </g>
  <g class="magnetic-pulse">
    <ellipse cx="60" cy="100" rx="30" ry="15" fill="none" stroke="#0ba360" stroke-width="2"/>
    <ellipse cx="60" cy="100" rx="45" ry="25" fill="none" stroke="#4facfe" stroke-width="1.5" stroke-dasharray="4 4"/>
    <circle cx="60" cy="100" r="40" fill="#3cba92" opacity="0.2"/>
  </g>
</svg>
