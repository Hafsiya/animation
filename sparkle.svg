<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="100%" height="100%">
  <defs>
    <style>
      /* 1. Sparkler drops from the air, hits the cake, wobbles, and settles */
      .sparkler-wrapper {
        animation: dropIn 5s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
        transform-origin: 100px 105px;
      }

      @keyframes dropIn {
        0% { transform: translate(20px, -150px) rotate(45deg); opacity: 0; }
        10% { transform: translate(20px, -150px) rotate(45deg); opacity: 1; }
        25% { transform: translate(0px, 0px) rotate(-15deg); }
        30% { transform: translate(0px, 0px) rotate(5deg); }
        35%, 85% { transform: translate(0px, 0px) rotate(0deg); opacity: 1; }
        95%, 100% { transform: translate(-20px, -150px) rotate(-45deg); opacity: 0; }
      }

      /* 2. Fire ignites ONLY after the sparkler settles */
      .fire-group {
        animation: ignite 5s infinite;
        transform-origin: 100px 45px;
      }

      @keyframes ignite {
        0%, 34% { opacity: 0; transform: scale(0); }
        36% { opacity: 1; transform: scale(1.4); }
        40%, 80% { opacity: 1; transform: scale(1); }
        85%, 100% { opacity: 0; transform: scale(0); }
      }

      /* 3. High-energy colorful spark particles */
      .spark {
        animation: shootSpark 0.5s infinite ease-out;
        transform-origin: 100px 45px;
      }

      /* Dispersing the sparks in 360 degrees */
      .spark:nth-child(1) { --tx: -45px; --ty: -35px; animation-delay: 0.0s; }
      .spark:nth-child(2) { --tx: 40px; --ty: -40px; animation-delay: 0.1s; }
      .spark:nth-child(3) { --tx: -35px; --ty: 45px; animation-delay: 0.3s; }
      .spark:nth-child(4) { --tx: 45px; --ty: 25px; animation-delay: 0.2s; }
      .spark:nth-child(5) { --tx: 0px; --ty: -55px; animation-delay: 0.05s; }
      .spark:nth-child(6) { --tx: -50px; --ty: 10px; animation-delay: 0.25s; }
      .spark:nth-child(7) { --tx: 35px; --ty: 50px; animation-delay: 0.15s; }
      .spark:nth-child(8) { --tx: 50px; --ty: -10px; animation-delay: 0.35s; }
      .spark:nth-child(9) { --tx: -20px; --ty: -50px; animation-delay: 0.4s; }
      .spark:nth-child(10) { --tx: 20px; --ty: -60px; animation-delay: 0.1s; }
      .spark:nth-child(11) { --tx: -30px; --ty: -15px; animation-delay: 0.2s; }

      @keyframes shootSpark {
        0% { transform: translate(0, 0) scale(1.5); opacity: 1; }
        80% { opacity: 1; }
        100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
      }

      /* Core flame pulsing */
      .core { animation: pulseCore 0.05s infinite alternate; transform-origin: 100px 45px; }
      @keyframes pulseCore {
        0% { transform: scale(0.8); opacity: 0.9; }
        100% { transform: scale(1.3); opacity: 1; }
      }
    </style>

    <linearGradient id="plate" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#dfe6e9"/>
      <stop offset="100%" stop-color="#636e72"/>
    </linearGradient>
    <linearGradient id="baseTier" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#00cec9"/>
      <stop offset="100%" stop-color="#0984e3"/>
    </linearGradient>
    <linearGradient id="topTier" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#ff7675"/>
      <stop offset="100%" stop-color="#d63031"/>
    </linearGradient>
    <linearGradient id="chocolateDrip" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#6c5ce7"/>
      <stop offset="100%" stop-color="#4a369d"/>
    </linearGradient>

    <linearGradient id="stickCoating" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#b2bec3"/>
      <stop offset="50%" stop-color="#636e72"/>
      <stop offset="100%" stop-color="#2d3436"/>
    </linearGradient>

    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <rect width="200" height="200" fill="#ffffff" rx="20" />

  <ellipse cx="100" cy="170" rx="75" ry="18" fill="rgba(0,0,0,0.15)" />

  <ellipse cx="100" cy="165" rx="75" ry="25" fill="url(#plate)" />
  <ellipse cx="100" cy="160" rx="75" ry="25" fill="#f5f6fa" />

  <path d="M 40 135 L 40 155 A 60 22 0 0 0 160 155 L 160 135 Z" fill="url(#baseTier)" />
  <ellipse cx="100" cy="135" rx="60" ry="22" fill="#74b9ff" />

  <path d="M 55 105 L 55 135 A 45 18 0 0 0 145 135 L 145 105 Z" fill="url(#topTier)" />
  <path d="M 55 105 L 55 115 C 60 125, 65 110, 70 120 C 75 130, 85 110, 95 125 C 105 140, 115 115, 125 125 C 130 130, 140 115, 145 115 L 145 105 Z" fill="url(#chocolateDrip)" />
  <ellipse cx="100" cy="105" rx="45" ry="18" fill="#a29bfe" />

  <g stroke-width="3" stroke-linecap="round">
    <line x1="75" y1="105" x2="80" y2="102" stroke="#ffeaa7" />
    <line x1="120" y1="110" x2="125" y2="113" stroke="#55efc4" />
    <line x1="105" y1="95" x2="112" y2="95" stroke="#ff7675" />
    <line x1="85" y1="112" x2="90" y2="115" stroke="#fab1a0" />
    <line x1="125" y1="100" x2="130" y2="98" stroke="#ffeaa7" />
  </g>

  <g class="sparkler-wrapper">
    
    <ellipse cx="100" cy="107" rx="5" ry="2" fill="rgba(0,0,0,0.4)" />

    <line x1="100" y1="108" x2="100" y2="35" stroke="#b2bec3" stroke-width="3" stroke-linecap="round" />
    
    <line x1="100" y1="85" x2="100" y2="40" stroke="url(#stickCoating)" stroke-width="7" stroke-linecap="round" />

    <g class="fire-group">
      <circle cx="100" cy="45" r="14" fill="#ff4757" filter="url(#glow)" opacity="0.4" class="core" />
      <circle cx="100" cy="45" r="9" fill="#ffa502" filter="url(#glow)" opacity="0.7" class="core" />
      <circle cx="100" cy="45" r="4" fill="#ffffff" class="core" />

      <g stroke-width="2.5" stroke-linecap="round">
        <line x1="100" y1="45" x2="108" y2="53" class="spark" stroke="#ff4757" /> <circle cx="100" cy="45" r="2" class="spark" fill="#1dd1a1" /> <line x1="100" y1="45" x2="110" y2="40" class="spark" stroke="#feca57" /> <line x1="100" y1="45" x2="90" y2="50" class="spark" stroke="#5f27cd" /> <circle cx="100" cy="45" r="2.5" class="spark" fill="#ff9f43" /> <line x1="100" y1="45" x2="100" y2="55" class="spark" stroke="#ee5253" /> <line x1="100" y1="45" x2="110" y2="45" class="spark" stroke="#0abde3" /> <circle cx="100" cy="45" r="1.5" class="spark" fill="#10ac84" /> <line x1="100" y1="45" x2="105" y2="35" class="spark" stroke="#ff6b81" /> <line x1="100" y1="45" x2="90" y2="35" class="spark" stroke="#feca57" /> <circle cx="100" cy="45" r="2" class="spark" fill="#0abde3" /> </g>
    </g>
    
  </g>
</svg>